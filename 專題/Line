{"cells":[{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":17294,"status":"ok","timestamp":1671621584598,"user":{"displayName":"H34086050林秀綺","userId":"03175416243190404357"},"user_tz":-480},"id":"OuIiV8tQgCMg","outputId":"664fcfce-f93a-4105-d89e-1661536f557a"},"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/drive\n"]}],"source":["from google.colab import drive\n","drive.mount('/content/drive', force_remount=True)\n","\n","!mkdir -p /drive\n","#umount /drive\n","!mount --bind /content/drive/My\\ Drive /drive\n","!mkdir -p /drive/ngrok-ssh\n","!mkdir -p ~/.ssh"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":2934,"status":"ok","timestamp":1671621587529,"user":{"displayName":"H34086050林秀綺","userId":"03175416243190404357"},"user_tz":-480},"id":"obaYK445gHlN","outputId":"bffb702a-9bb2-4906-c21a-6f21b3d267ce"},"outputs":[{"output_type":"stream","name":"stdout","text":["/drive/ngrok-ssh\n","--2022-12-21 11:19:45--  https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip\n","Resolving bin.equinox.io (bin.equinox.io)... 54.161.241.46, 52.202.168.65, 54.237.133.81, ...\n","Connecting to bin.equinox.io (bin.equinox.io)|54.161.241.46|:443... connected.\n","HTTP request sent, awaiting response... 200 OK\n","Length: 13832437 (13M) [application/octet-stream]\n","Saving to: ‘ngrok-stable-linux-amd64.zip’\n","\n","ngrok-stable-linux- 100%[===================>]  13.19M  36.1MB/s    in 0.4s    \n","\n","2022-12-21 11:19:45 (36.1 MB/s) - ‘ngrok-stable-linux-amd64.zip’ saved [13832437/13832437]\n","\n","Archive:  ngrok-stable-linux-amd64.zip\n"]}],"source":["!mkdir -p /drive/ngrok-ssh\n","%cd /drive/ngrok-ssh\n","!wget https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-amd64.zip -O ngrok-stable-linux-amd64.zip\n","!unzip -u ngrok-stable-linux-amd64.zip\n","!cp /drive/ngrok-ssh/ngrok /ngrok\n","!chmod +x /ngrok"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":5,"status":"ok","timestamp":1671621587529,"user":{"displayName":"H34086050林秀綺","userId":"03175416243190404357"},"user_tz":-480},"id":"UEfBBz3BgIrl","outputId":"cf0b1302-24b4-49e4-c926-bbace80f9bfe"},"outputs":[{"output_type":"stream","name":"stdout","text":["Authtoken saved to configuration file: /root/.ngrok2/ngrok.yml\n"]}],"source":["!/ngrok authtoken 2DAAaGspQ5KV2RDz3KgWS5Kn1jv_2kyyFJipB5fQorKGV17HH"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4868,"status":"ok","timestamp":1671621592395,"user":{"displayName":"H34086050林秀綺","userId":"03175416243190404357"},"user_tz":-480},"id":"UE7ZAlWVgJ9g","outputId":"4ad2d1c3-7a39-4d54-b763-2d6f63d27d9e"},"outputs":[{"output_type":"stream","name":"stdout","text":["Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/\n","Collecting flask_ngrok\n","  Downloading flask_ngrok-0.0.25-py3-none-any.whl (3.1 kB)\n","Requirement already satisfied: requests in /usr/local/lib/python3.8/dist-packages (from flask_ngrok) (2.23.0)\n","Requirement already satisfied: Flask>=0.8 in /usr/local/lib/python3.8/dist-packages (from flask_ngrok) (1.1.4)\n","Requirement already satisfied: itsdangerous<2.0,>=0.24 in /usr/local/lib/python3.8/dist-packages (from Flask>=0.8->flask_ngrok) (1.1.0)\n","Requirement already satisfied: click<8.0,>=5.1 in /usr/local/lib/python3.8/dist-packages (from Flask>=0.8->flask_ngrok) (7.1.2)\n","Requirement already satisfied: Werkzeug<2.0,>=0.15 in /usr/local/lib/python3.8/dist-packages (from Flask>=0.8->flask_ngrok) (1.0.1)\n","Requirement already satisfied: Jinja2<3.0,>=2.10.1 in /usr/local/lib/python3.8/dist-packages (from Flask>=0.8->flask_ngrok) (2.11.3)\n","Requirement already satisfied: MarkupSafe>=0.23 in /usr/local/lib/python3.8/dist-packages (from Jinja2<3.0,>=2.10.1->Flask>=0.8->flask_ngrok) (2.0.1)\n","Requirement already satisfied: chardet<4,>=3.0.2 in /usr/local/lib/python3.8/dist-packages (from requests->flask_ngrok) (3.0.4)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.8/dist-packages (from requests->flask_ngrok) (2022.12.7)\n","Requirement already satisfied: idna<3,>=2.5 in /usr/local/lib/python3.8/dist-packages (from requests->flask_ngrok) (2.10)\n","Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in /usr/local/lib/python3.8/dist-packages (from requests->flask_ngrok) (1.24.3)\n","Installing collected packages: flask-ngrok\n","Successfully installed flask-ngrok-0.0.25\n"]}],"source":["!pip install flask_ngrok"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":4057,"status":"ok","timestamp":1671621596448,"user":{"displayName":"H34086050林秀綺","userId":"03175416243190404357"},"user_tz":-480},"id":"8kCvmj_WgK41","outputId":"9bd507ef-0afd-4a40-bde2-a17dcf4b412b"},"outputs":[{"output_type":"stream","name":"stdout","text":["Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/\n","Collecting line-bot-sdk\n","  Downloading line_bot_sdk-2.3.0-py2.py3-none-any.whl (88 kB)\n","\u001b[K     |████████████████████████████████| 88 kB 3.0 MB/s \n","\u001b[?25hRequirement already satisfied: requests>=2.0 in /usr/local/lib/python3.8/dist-packages (from line-bot-sdk) (2.23.0)\n","Requirement already satisfied: future in /usr/local/lib/python3.8/dist-packages (from line-bot-sdk) (0.16.0)\n","Requirement already satisfied: aiohttp>=3.7.4 in /usr/local/lib/python3.8/dist-packages (from line-bot-sdk) (3.8.3)\n","Requirement already satisfied: multidict<7.0,>=4.5 in /usr/local/lib/python3.8/dist-packages (from aiohttp>=3.7.4->line-bot-sdk) (6.0.3)\n","Requirement already satisfied: frozenlist>=1.1.1 in /usr/local/lib/python3.8/dist-packages (from aiohttp>=3.7.4->line-bot-sdk) (1.3.3)\n","Requirement already satisfied: aiosignal>=1.1.2 in /usr/local/lib/python3.8/dist-packages (from aiohttp>=3.7.4->line-bot-sdk) (1.3.1)\n","Requirement already satisfied: yarl<2.0,>=1.0 in /usr/local/lib/python3.8/dist-packages (from aiohttp>=3.7.4->line-bot-sdk) (1.8.2)\n","Requirement already satisfied: charset-normalizer<3.0,>=2.0 in /usr/local/lib/python3.8/dist-packages (from aiohttp>=3.7.4->line-bot-sdk) (2.1.1)\n","Requirement already satisfied: async-timeout<5.0,>=4.0.0a3 in /usr/local/lib/python3.8/dist-packages (from aiohttp>=3.7.4->line-bot-sdk) (4.0.2)\n","Requirement already satisfied: attrs>=17.3.0 in /usr/local/lib/python3.8/dist-packages (from aiohttp>=3.7.4->line-bot-sdk) (22.1.0)\n","Requirement already satisfied: chardet<4,>=3.0.2 in /usr/local/lib/python3.8/dist-packages (from requests>=2.0->line-bot-sdk) (3.0.4)\n","Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in /usr/local/lib/python3.8/dist-packages (from requests>=2.0->line-bot-sdk) (1.24.3)\n","Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.8/dist-packages (from requests>=2.0->line-bot-sdk) (2022.12.7)\n","Requirement already satisfied: idna<3,>=2.5 in /usr/local/lib/python3.8/dist-packages (from requests>=2.0->line-bot-sdk) (2.10)\n","Installing collected packages: line-bot-sdk\n","Successfully installed line-bot-sdk-2.3.0\n"]}],"source":["!pip install line-bot-sdk"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"IIgWiqfOnAuz"},"outputs":[],"source":["def restaurant(a,b,c,d):\n","  # 食物的新鮮程度 小於等於 4.5\n","  if a <= 4.5:\n","  # 提供餐點正確 小於等於 4.5\n","    if c <= 4.5:\n","    # 合理價格 小於等於 4.5\n","      if b <= 4.5:\n","      # 用餐環境整潔 小於等於 4.5\n","        if d <= 4.5:\n","        # 用餐環境整潔 小於等於 1.5\n","          if d <= 1.5:\n","          # 食物的新鮮程度 小於等於 3.5\n","            if a <= 3.5:\n","            # 合理價格 小於等於 3.5\n","              if b <= 3.5:\n","              # 合理價格 小於等於 2.0\n","                if b <= 2.0:\n","                # 食物的新鮮程度 小於等於 1.5\n","                  if a <= 1.5:\n","                    return 28\n","                  else:\n","                    return 27\n","                else:\n","                  return 26\n","              else:\n","                return 25\n","            else:\n","              return 24\n","          else:\n","          # 合理價格 小於等於 2.5\n","            if b <= 2.5:\n","              return 23\n","            else:\n","            # 提供餐點正確 小於等於 3.5\n","              if c <= 3.5:\n","                # 食物的新鮮程度 小於等於 2.5\n","                if a <= 2.5:\n","                  # 用餐環境整潔 小於等於 2.5\n","                  if d <= 2.5:\n","                    return 22\n","                  else:\n","                    # 提供餐點正確 小於等於 2.5\n","                    if c <= 2.5:\n","                      return 21\n","                    else:\n","                      return 20\n","                else:\n","                  # 提供餐點正確 小於等於 2.5\n","                  if c <= 2.5:\n","                    return 19\n","                  else:\n","                    # 用餐環境整潔 小於等於 3.5\n","                    if d <= 3.5:\n","                      # 合理價格 小於等於 3.5\n","                      if b <= 3.5:\n","                        # 食物的新鮮程度 小於等於 3.5\n","                        if a <= 3.5:\n","                          return 18\n","                        else:\n","                          return 17 \n","                      else:\n","                         return 16  \n","                    else:\n","                      # 合理價格 小於等於 3.5\n","                      if b <= 3.5:\n","                        return 15 \n","                      else:\n","                        # 食物的新鮮程度 小於等於 3.5\n","                        if a <= 3.5:\n","                          return 14\n","                        else:\n","                          return 13\n","              else:\n","                # 用餐環境整潔 小於等於 3.5\n","                if d <= 3.5:\n","                  # 食物的新鮮程度 小於等於 3.5\n","                  if a <= 3.5:\n","                    # 食物的新鮮程度 小於等於 2.5\n","                    if a <= 2.5:\n","                      return 12\n","                    else:\n","                      # 用餐環境整潔 小於等於 2.5\n","                      if d <= 2.5:\n","                        return 11\n","                      else:\n","                        # 合理價格 小於等於 3.5\n","                        if b <= 3.5:\n","                          return 10\n","                        else:\n","                          return 9\n","                  else:\n","                    return 8\n","                else:\n","                  # 食物的新鮮程度 小於等於 3.5\n","                  if a <= 3.5:\n","                    return 7\n","                  else:\n","                    # 合理價格 小於等於 3.5\n","                    if b <= 3.5:\n","                      return 6\n","                    else:\n","                      return 5\n","        else:\n","          # 用餐環境整潔 大於等於 4.5\n","          return 4\n","      else:\n","        #合理價格 大於等於 4.5\n","        return 3              \n","    else:\n","      # 提供餐點正確 大於等於 4.5\n","      return 2\n","  else:\n","    # 食物的新鮮程度 大於等於 4.5\n","    return 1"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":6,"status":"ok","timestamp":1671621596449,"user":{"displayName":"H34086050林秀綺","userId":"03175416243190404357"},"user_tz":-480},"id":"pduSNazko2bu","outputId":"8558ab63-b86b-436a-81f5-61f7d715ed3f"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["1"]},"metadata":{},"execution_count":7}],"source":["restaurant(5,5,5,5)"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"YYSZJR33hjO5","executionInfo":{"status":"ok","timestamp":1671621926763,"user_tz":-480,"elapsed":330318,"user":{"displayName":"H34086050林秀綺","userId":"03175416243190404357"}},"outputId":"b31024d7-f241-4f73-c5ce-5ec2dda3af08"},"outputs":[{"output_type":"stream","name":"stdout","text":[" * Serving Flask app \"__main__\" (lazy loading)\n"," * Environment: production\n","\u001b[31m   WARNING: This is a development server. Do not use it in a production deployment.\u001b[0m\n","\u001b[2m   Use a production WSGI server instead.\u001b[0m\n"," * Debug mode: off\n"]},{"output_type":"stream","name":"stderr","text":["INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n"]},{"output_type":"stream","name":"stdout","text":[" * Running on http://4045-35-196-216-97.ngrok.io\n"," * Traffic stats available on http://127.0.0.1:4040\n"]},{"output_type":"stream","name":"stderr","text":["INFO:werkzeug:127.0.0.1 - - [21/Dec/2022 11:20:15] \"\u001b[37mPOST / HTTP/1.1\u001b[0m\" 200 -\n"]},{"output_type":"stream","name":"stdout","text":["error, {\"destination\":\"U89a90a407fb4c0ef388a072ef8ac2a03\",\"events\":[]}\n","收到的訊息: 推薦\n","type of msg: <class 'str'>\n","['推薦']\n","token: 5109c49e87534da59830bd045fd89a56\n","json_data: {'destination': 'U89a90a407fb4c0ef388a072ef8ac2a03', 'events': [{'type': 'message', 'message': {'type': 'text', 'id': '17333653228636', 'text': '推薦'}, 'webhookEventId': '01GMT6KN7ZBH7G3M349K2RN14H', 'deliveryContext': {'isRedelivery': False}, 'timestamp': 1671621628784, 'source': {'type': 'user', 'userId': 'U6fd080ea6c176c5585e5215bcbef3457'}, 'replyToken': '5109c49e87534da59830bd045fd89a56', 'mode': 'active'}]}\n","userId: U6fd080ea6c176c5585e5215bcbef3457\n"]},{"output_type":"stream","name":"stderr","text":["INFO:werkzeug:127.0.0.1 - - [21/Dec/2022 11:20:30] \"\u001b[37mPOST / HTTP/1.1\u001b[0m\" 200 -\n"]},{"output_type":"stream","name":"stdout","text":["收到的訊息: 5, 4, 3,2\n","type of msg: <class 'str'>\n","['5', ' 4', ' 3', '2']\n","token: 439d51de10324787993c777c67c335ba\n","json_data: {'destination': 'U89a90a407fb4c0ef388a072ef8ac2a03', 'events': [{'type': 'message', 'message': {'type': 'text', 'id': '17333653948300', 'text': '5, 4, 3,2'}, 'webhookEventId': '01GMT6KXDBFS84PHV4YN93AQCC', 'deliveryContext': {'isRedelivery': False}, 'timestamp': 1671621637286, 'source': {'type': 'user', 'userId': 'U6fd080ea6c176c5585e5215bcbef3457'}, 'replyToken': '439d51de10324787993c777c67c335ba', 'mode': 'active'}]}\n","userId: U6fd080ea6c176c5585e5215bcbef3457\n","(a,b,c,d): 5.0 , 4.0 , 3.0 , 2.0\n","restaurant(a,b,c,d):\n"]},{"output_type":"stream","name":"stderr","text":["INFO:werkzeug:127.0.0.1 - - [21/Dec/2022 11:20:39] \"\u001b[37mPOST / HTTP/1.1\u001b[0m\" 200 -\n"]}],"source":["from zmq.constants import NULL\n","from flask_ngrok import run_with_ngrok\n","from flask import Flask, request\n","\n","# 載入 LINE Message API 相關函式庫\n","from linebot import LineBotApi, WebhookHandler\n","from linebot.exceptions import InvalidSignatureError\n","from linebot.models import *\n","\n","# 載入 json 標準函式庫，處理回傳的資料格式\n","import json\n","\n","app = Flask(__name__)\n","loc = NULL\n","@app.route(\"/\", methods=['POST'])\n","def linebot():\n","    body = request.get_data(as_text=True)                    # 取得收到的訊息內容\n","    try:\n","        json_data = json.loads(body)                         # json 格式化訊息內容\n","        access_token = 'wq0nOuRtUaGreZQ8ZwUiKevSmwPfg5Kl7nvIe59XblzqQSlo7lFoZV2p1iARWbhdjwMFvfT0D9i9cotw1SuKmepkZBaTiBEU/s4irzOCIBQkfX8878U3IOiBaTKZ2xdS4XOpmmC3acr2rSrxUp1gxgdB04t89/1O/w1cDnyilFU='\n","        secret = '49844e82d8968848a84aabf2e030a880'\n","        line_bot_api = LineBotApi(access_token)              # 確認 token 是否正確\n","        handler = WebhookHandler(secret)                     # 確認 secret 是否正確\n","        signature = request.headers['X-Line-Signature']      # 加入回傳的 headers\n","        handler.handle(body, signature)                      # 綁定訊息回傳的相關資訊\n","        msg = json_data['events'][0]['message']['text']      # 取得 LINE 收到的文字訊息\n","        print('收到的訊息:',msg)\n","        print('type of msg:',type(msg))\n","        arr = msg.split(',')\n","        print(arr)\n","        tk = json_data['events'][0]['replyToken']   \n","        userId = json_data['events'][0]['source']['userId']     # 取得使用者的userId    \n","        print('token:',tk)        # 印出 Token\n","        print('json_data:',json_data) # 印出 json_data\n","        print('userId:',userId) # 印出 使用者的userId\n","        if msg == '推薦':   \n","          text = '請輸入您對\"食物的新鮮程度\"、\"合理價格\"、\"提供餐點正確\"及\"用餐環境整潔\"的在乎程度，評分為1~5，非常在乎為5分，非常不在乎為1分。以下舉例說明：如果\"食物的新鮮程度\"在乎程度為5分，\"合理價格\"在乎程度為4分，\"提供餐點正確\"在乎程度為3分，\"用餐環境整潔\"在乎程度為2分，則輸入\"5,4,3,2\"'\n","          line_bot_api.reply_message(tk,TextSendMessage(text))\n","        elif len(arr) == 4:\n","          a = float(arr[0])\n","          b = float(arr[1])\n","          c = float(arr[2])\n","          d = float(arr[3])  \n","          text = '請稍後，正在為您查詢'\n","          line_bot_api.reply_message(tk,TextSendMessage(text))\n","          print('(a,b,c,d):',a,',',b,',',c,',',d)\n","          print('restaurant(a,b,c,d):')\n","          restaurant(a,b,c,d)\n","          if  restaurant(a,b,c,d) == 1:\n","              line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下三家餐廳：'))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='拾分早午餐',\n","                text='裝潢簡樸的休閒餐廳，供應三明治、烘焙美食和特色早午餐。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://ikachalife.com/wp-content/uploads/2015/09/1461266832-7c121f5e20d9694c4536e6d25312cc68.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E6%8B%BE%E5%88%86/@22.9960633,120.2154446,16.74z/data=!3m1!5s0x346e76928f0ac04b:0xae4c89f4e04ab22a!4m5!3m4!1s0x346e76928f440def:0x634a394c6cc6c07e!8m2!3d22.9962059!4d120.217438?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/tenbreaktime'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='無邪燒肉',\n","                text='舒適的當代風餐廳，顧客可在吧台與桌面上的烤爐自行燒烤肉類。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://inline.imgix.net/branch/-MduqXiNfbNj7A97sYLQ:inline-live-2--MduqXx78veSpF89CNHK-8a75772d-bc71-46c5-b3d1-818564ad9bd6_wusie-logo-2.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E7%84%A1%E9%82%AA%E7%87%92%E8%82%89/@22.9962682,120.215225,17z/data=!3m1!4b1!4m13!1m7!3m6!1s0x346e777e62bdcd73:0x5f85b9a6101ee444!2z54Sh6YKq54eS6IKJ!8m2!3d22.9962996!4d120.2174184!10e1!3m4!1s0x346e777e62bdcd73:0x5f85b9a6101ee444!8m2!3d22.9962996!4d120.2174184?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://inline.app/order/-MduqXiNfbNj7A97sYLQ:inline-live-2/-MduqXx78veSpF89CNHK'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='元味屋',\n","                text='素雅的餐廳，供應經典炸雞、豬排與鮮魚料理。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://img.foodieteller.com/20161005012736_32.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E5%85%83%E5%91%B3%E5%B1%8B%E5%92%8C%E9%A2%A8%E6%B4%8B%E9%A3%9F/@22.9953063,120.2125497,17z/data=!4m6!3m5!1s0x346e768db909a2c9:0x258b2672fc2a431e!8m2!3d22.9953063!4d120.2147384!10e1?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/profile.php?id=100054496087745'\n","                    )\n","                    ]\n","                )\n","              ))\n","          elif  restaurant(a,b,c,d) == 2:\n","              line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下三家餐廳：'))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='金大廚壽喜燒',\n","                text='掌握鹹甜之間的黃金比例 讓壽喜燒的湯底成為最佳配角😋',\n","                #封面圖片網址\n","                thumbnail_image_url='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQBQKT-fT315V8yExQ69yefnXtPIMj99ZPHXw&usqp=CAU',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E9%87%91%E5%A4%A7%E9%8B%A4%E5%A3%BD%E5%96%9C%E7%87%92SUKIYAKI-%E6%88%90%E5%A4%A7%E5%BA%97/@22.9953976,120.2164985,17z/data=!3m2!4b1!5s0x346e769258bb82df:0xe9929a377d1d468c!4m13!1m7!3m6!1s0x346e773cb7d3d59f:0x5b85fbf50fb60840!2z6YeR5aSn6Yuk5aO95Zac54eSU1VLSVlBS0kt5oiQ5aSn5bqX!8m2!3d22.9953976!4d120.2186872!10e1!3m4!1s0x346e773cb7d3d59f:0x5b85fbf50fb60840!8m2!3d22.9953976!4d120.2186872?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://en.mongobeef.com.tw/about-us.html'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='瓦城泰國料理 ',\n","                text='以高品質的道地美味、親切熱誠的服務，及溫馨舒適的環境，引領全台泰式餐飲風潮。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://www.thaitown.com.tw/assets/meta__bc895697d816ff24eadd6bf8c74d4f29.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/Thai+Town+Cuisine+Far+Eastern+Tainan+Chenggong+Branch/@22.996384,120.212137,17z/data=!3m2!4b1!5s0x346e768da9067801:0x511a2caea8ef1b67!4m5!3m4!1s0x346e768dab1d8c2f:0x3b508f7f005f0179!8m2!3d22.996384!4d120.2143257?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.thaitown.com.tw/'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='橋上看書bRidge+',\n","                text='橋上看書',\n","                #封面圖片網址\n","                thumbnail_image_url='https://5.share.photo.xuite.net/babyent/150e5e3/13751492/717220383_m.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E6%A9%8B%E4%B8%8A%E7%9C%8B%E6%9B%B8bRidge%2B/@22.991957,120.2164388,17z/data=!4m14!1m8!3m7!1s0x346e7691918f74b3:0x41a618b9aaa4c370!2z5Y-w5Y2X5biC5p2x5Y2A5Yud5Yip6LevNTLlt7fmqYvkuIrnnIvmm7hiUmlkZ2Ur!8m2!3d22.991957!4d120.2186275!11m1!2e1!3m4!1s0x346e7691918f74b3:0x41a618b9aaa4c370!8m2!3d22.991957!4d120.2186275?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/bridgeplus2012/'\n","                    )\n","                    ]\n","                )\n","              ))\n","          elif  restaurant(a,b,c,d) == 3:\n","              line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下三家餐廳：'))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='雙饗丼',\n","                text='平價丼飯',\n","                #封面圖片網址\n","                thumbnail_image_url='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRCHj3UADqRUs0a8t5RmY33PJnID3nyNSBNgw&usqp=CAU',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E9%9B%99%E9%A5%97%E4%B8%BC-%E5%8F%B0%E5%8D%97%E8%82%B2%E6%A8%82%E5%BA%97/@22.9919531,120.1836079,13z/data=!4m10!1m2!2m1!1z6ZuZ6aWX5Li8!3m6!1s0x346e768dc4f5f831:0x43732136c613f9eb!8m2!3d22.9944957!4d120.2147586!15sCgnpm5nppZfkuLxaDSIL6ZuZIOmllyDkuLySASBwb3JrX2N1dGxldF9yaWNlX2Jvd2xfcmVzdGF1cmFudOABAA!16s%2Fg%2F11g091rq7p?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/xiangdon159'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='柴與咖哩',\n","                text='日式咖哩餐廳',\n","                #封面圖片網址\n","                thumbnail_image_url='https://fra1.digitaloceanspaces.com/places/uploads/place/image/file/5790330/EEE049FE-FCE8-4869-9C6A-398253DB82A6.jpeg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E6%9F%B4%E8%88%87%E5%92%96%E5%93%A9/@22.9954336,120.2146446,17z/data=!3m1!4b1!4m5!3m4!1s0x346e7718a8a55725:0xf55a3d46f09871ef!8m2!3d22.995482!4d120.2168397?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.foodpanda.com.tw/restaurant/saiq/chai-yu-ka-li?utm_source=google&utm_medium=organic&utm_campaign=google_reserve_place_order_action'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='巨無霸素食餐廳',\n","                text='歡迎大家來吃好吃的素食!',\n","                #封面圖片網址\n","                thumbnail_image_url='https://eattnn.com/wp-content/uploads/20220105120528_49.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E5%B7%A8%E7%84%A1%E9%9C%B8%E7%B4%A0%E9%A3%9F%E9%A4%90%E5%BB%B3/@22.9947236,120.21261,17z/data=!3m1!4b1!4m5!3m4!1s0x346e768dc14d07d7:0x69d44d488015b922!8m2!3d22.9947236!4d120.2147987?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/BigVege/'\n","                    )\n","                    ]\n","                )\n","              ))\n","          elif  restaurant(a,b,c,d) == 4:\n","              line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下三家餐廳：'))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='台南乾杯 成功店',\n","                text='不只燒肉跟啤酒，一定還要有感動！',\n","                #封面圖片網址\n","                thumbnail_image_url='https://inline.imgix.net/companies/d2dacc0e-536d-4892-a7df-16b811a39278_20200612_inline_KP-09.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E5%8F%B0%E5%8D%97%E4%B9%BE%E6%9D%AF+%E6%88%90%E5%8A%9F%E5%BA%97/@22.9963066,120.2121293,17z/data=!3m1!4b1!4m5!3m4!1s0x346e768da860a939:0xa58af6751d200bc0!8m2!3d22.9963066!4d120.214318?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='http://www.kanpaiyakiniku.com.tw/'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='Shanghai Pavilion 醉月樓 - 台南遠東香格里拉',\n","                text='嚴選上乘與當季食材，重視色、香、味、形的匠心精神，締造江浙經典，並有港點、川菜與臺灣料理。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://s3.goodlife.tw/system/bt/000/406/895/images/big_1429560388.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/Shanghai+Pavilion+%E9%86%89%E6%9C%88%E6%A8%93+-+%E5%8F%B0%E5%8D%97%E9%81%A0%E6%9D%B1%E9%A6%99%E6%A0%BC%E9%87%8C%E6%8B%89/@22.9964127,120.2124128,17z/data=!3m2!4b1!5s0x346e768da9067801:0x489ce31b2cd7819d!4m5!3m4!1s0x346e768cfe63b6bd:0xc8ef45267399ad71!8m2!3d22.9964127!4d120.2146015?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://sltn.fareasternhotel.com.tw/tc/restaurant/shanghaipavilion/'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='陶板屋 台南勝利店',\n","                text='以家為出發的和風洋食料理，嚴選當令食材，搭配日式手法料理，以滿足全家大小口味的多樣選擇。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://inline.imgix.net/branch/-LKtPPYDSxqo5tcDZ5uT:inline-live-2a466--MaXZIj4vcD7MVckOib9-ff57198e-6e46-46c2-b822-fd46e3cfed9b_TB_inline%20banner%201140X456_202111_1140X456-02.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E9%99%B6%E6%9D%BF%E5%B1%8B+%E5%8F%B0%E5%8D%97%E5%8B%9D%E5%88%A9%E5%BA%97/@22.9953959,120.2162152,17z/data=!3m2!4b1!5s0x346e769258bb82df:0xbffeb6d95325e790!4m5!3m4!1s0x346e73f07d5c8a2f:0x8c899e246b003315!8m2!3d22.9953959!4d120.2184039?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.tokiya.com.tw/'\n","                    )\n","                    ]\n","                )\n","              ))\n","          elif  restaurant(a,b,c,d) == 5:\n","              line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下三家餐廳：'))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='綠屋異國風味美食館',\n","                text='有機會就來嚐嚐看吧！',\n","                #封面圖片網址\n","                thumbnail_image_url='https://lh5.googleusercontent.com/p/AF1QipMeeIxqDumtaE0NRoupS0lMbE4NE26I6GZ4LB6O',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E7%B6%A0%E5%B1%8B%E7%95%B0%E5%9C%8B%E9%A2%A8%E5%91%B3%E7%BE%8E%E9%A3%9F%E9%A4%A8/@23.0019397,120.2123121,17z/data=!3m1!4b1!4m5!3m4!1s0x346e772e26adf6e7:0xb6202ec86b1857b0!8m2!3d23.0019397!4d120.2145007?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/profile.php?id=100054649500607'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='海南雞飯 INS飲食坊',\n","                text='透天樓的居家型裝潢，看似低調但走上二樓往內瞧，二十幾坪的空間裡高朋滿座，在小巷弄裡顯得格外熱鬧。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://s3-ap-northeast-1.amazonaws.com/upload.potatomedia.co/articles/potato_4e0b6740-8b2c-4db2-9ebc-c6e3f7bc1d31_b4acf5c29f1ef08c1abb16e14ecc85c821109b8c.jpeg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E6%B5%B7%E5%8D%97%E9%9B%9E%E9%A3%AF+INS%E9%A3%B2%E9%A3%9F%E5%9D%8A/@22.9937281,120.2206138,17z/data=!3m1!4b1!4m5!3m4!1s0x346e7694714e19bd:0x5d1e17236083aa17!8m2!3d22.9937281!4d120.2228025?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/INSFOOD/'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='麥雅印度咖喱 Maiya Indian Curry Halal',\n","                text='我們使用多種辛香料熬煮濃郁咖哩醬汁，為您獻上最道地的印度咖哩！',\n","                #封面圖片網址\n","                thumbnail_image_url='https://lh3.googleusercontent.com/NBykPPYRolRohoIp4BxRy_cN5e6s6IDp79suTlNUuafY9SIlLHVmGxBswDawXTSQ8CQG5w6NqYiYLg0zYypyAIrwFALxJ4VADTKzJIeGBTrT=s600',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E9%BA%A5%E9%9B%85%E5%8D%B0%E5%BA%A6%E5%92%96%E5%96%B1+Maiya+Indian+Curry+Halal/@23.0035214,120.216798,17z/data=!3m1!4b1!4m5!3m4!1s0x346e77c2f8f20f59:0xe0b7763b2aa3190e!8m2!3d23.0035214!4d120.2189867?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/maiyaindiancurryhalal'\n","                    )\n","                    ]\n","                )\n","              ))\n","          elif  restaurant(a,b,c,d) == 6:\n","              line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下三家餐廳：'))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='庫肯花園餐廳',\n","                text='氣氛溫馨的傳統義式餐廳，供應各式家常料理和甜點。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://lh3.googleusercontent.com/blogger_img_proxy/ANbyha0TRUZcPYJRwsa1MwR3DvfLkxhRUDOxwhli-e_UmEeNUEn3G7tBxVchpf9H3m_XvD7tyYd_j2hEri3UbivZCGxSgBNDrNb8FmGLxSIXUX04QSwT4A_g7cI-CLmy1w=w1200-h630-p-k-no-nu',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E5%BA%AB%E8%82%AF%E8%8A%B1%E5%9C%92%E9%A4%90%E5%BB%B3/@22.9956696,120.2190362,17z/data=!3m1!4b1!4m13!1m7!3m6!1s0x346e76937295a2ad:0x94ab8ba12093f5e4!2z5bqr6IKv6Iqx5ZyS6aSQ5buz!8m2!3d22.9956689!4d120.2212353!10e1!3m4!1s0x346e76937295a2ad:0x94ab8ba12093f5e4!8m2!3d22.9956689!4d120.2212353?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://m.facebook.com/tnnKeukenhof?eav=AfZZNwAk5lAPkYqixmZ_9BuJgQ6vozbEbuwqkjs1yHwwYqYrZ5ljXN6LOlBErxGchTo&paipv=0&_rdr'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='井選日式定食',\n","                text='井選 ていしょく日式定食永遠用最溫暖的笑容迎接你～',\n","                #封面圖片網址\n","                thumbnail_image_url='https://pic.pimg.tw/ku5553221/1470452931-3517258442.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E4%BA%95%E9%81%B8%E6%97%A5%E5%BC%8F%E5%AE%9A%E9%A3%9F/@22.9951459,120.2187855,17z/data=!3m1!4b1!4m5!3m4!1s0x346e768cf35e4677:0xf6c6d79bf5a921dc!8m2!3d22.9951459!4d120.2209742?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/teisyoku.tainan'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='Phở 22 河粉 南洋小吃',\n","                text='東區隱藏美食，時尚環境與異國風裝潢！來pho22河粉，品嚐南洋風味異國料理！',\n","                #封面圖片網址\n","                thumbnail_image_url='https://www.corner.com.tw/upload/news_list_pic/tw_news_list_21l27_4rx8idwx54.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/Ph%E1%BB%9F+22+%E6%B2%B3%E7%B2%89+%E5%8D%97%E6%B4%8B%E5%B0%8F%E5%90%83/@22.995531,120.2190973,17z/data=!3m1!4b1!4m5!3m4!1s0x346e76936dbc7ff1:0xa4f94a5a099f226a!8m2!3d22.995531!4d120.221286?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/pho22.tainanfood'\n","                    )\n","                    ]\n","                )\n","              ))\n","          elif  restaurant(a,b,c,d) == 7:\n","              line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下餐廳：'))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='義式屋古拉爵 台南遠百成功店',\n","                text='採用華麗奢糜、慵懶飄然的暗色系裝潢設計，是一個身心皆能獲得全面放鬆、屬於大人的Café',\n","                #封面圖片網址\n","                thumbnail_image_url='https://www.feds.com.tw/Uploads/Restaurant/cc4bf28e-7ec9-46bf-8361-10b6a2c5a861.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E7%BE%A9%E5%BC%8F%E5%B1%8B%E5%8F%A4%E6%8B%89%E7%88%B5+%E5%8F%B0%E5%8D%97%E9%81%A0%E7%99%BE%E6%88%90%E5%8A%9F%E5%BA%97/@22.9962855,120.2121188,17z/data=!3m2!4b1!5s0x346e768da9067801:0xa357798d7664e537!4m5!3m4!1s0x346e768c55051851:0x2d4a7d59d28e9b56!8m2!3d22.9962855!4d120.2143075?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://grazie.com.tw/'\n","                    )\n","                    ]\n","                )\n","              ))\n","          elif  restaurant(a,b,c,d) == 8:\n","              line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下三家餐廳：'))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='暖食堂 小米酒 歐姆蛋包飯專門店',\n","                text='期盼能帶給大家溫暖，所以取名為「暖食堂」。我有食物，你有故事嗎？',\n","                #封面圖片網址\n","                thumbnail_image_url='https://pr0.nicelocal.tw/7hTxgX6WWiIf6spq4iuOTQ/587x440,q85/4px-BW84_n0QJGVPszge3NRBsKw-2VcOifrJIjPYFYkOtaCZxxXQ2btZTEISGTddKWgltqnVHUnOwO9oTlJkegssolhFWZ1AZN9N6CuXDcgIZmL2ybYhrQ',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E6%9A%96%E9%A3%9F%E5%A0%82+%E5%B0%8F%E7%B1%B3%E9%85%92+%E6%AD%90%E5%A7%86%E8%9B%8B%E5%8C%85%E9%A3%AF%E5%B0%88%E9%96%80%E5%BA%97/@22.9952043,120.2144372,17z/data=!3m1!4b1!4m5!3m4!1s0x346e77f908a28a05:0xd4590f5080d602b1!8m2!3d22.9952043!4d120.2166259?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/%E6%9A%96%E9%A3%9F%E5%A0%82-Nuan-Shokudou-442313282842501/'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='碧蘿春餐廳',\n","                text='在地28年中式火鍋簡餐店，歡迎內用及外帶<3',\n","                #封面圖片網址\n","                thumbnail_image_url='https://www.patrikbear.com/wp-content/uploads/2021/12/1587224107-2896088905.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E7%A2%A7%E8%98%BF%E6%98%A5%E9%A4%90%E5%BB%B3/@23.0032921,120.2189264,17z/data=!3m1!4b1!4m5!3m4!1s0x346e76eea1cbc5f3:0xe04bf4dcdc5fa6bd!8m2!3d23.0032132!4d120.2210992?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://m.facebook.com/profile.php?id=100040565725892&locale2=zh_TW&_rdr'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='HALAL food 穆斯林的店',\n","                text='店裡有好吃的捲餅、咖哩飯，道地的印度料理。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://lh3.googleusercontent.com/tmhUjov4rPIyht__tLAIQcY9OMLGHf4eF0ueElTvWs5QScRFvQCfsZIFEB_lIdUEj3zqMJIYKniNQeWLoVjj49LNUeCYIwB4Lq0DdmCzvR4S=s600',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/HALAL+food+%E7%A9%86%E6%96%AF%E6%9E%97%E7%9A%84%E5%BA%97/@22.9953709,120.2156311,17z/data=!3m1!4b1!4m5!3m4!1s0x346e769260953c9b:0xdcdf3cfcb73bc603!8m2!3d22.9953709!4d120.2178198?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/HalalMuslimFood'\n","                    )\n","                    ]\n","                )\n","              ))\n","          elif  restaurant(a,b,c,d) == 9:\n","              line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下餐廳：'))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='麵心開張',\n","                text='亞洲 Fusion 菜餐廳',\n","                #封面圖片網址\n","                thumbnail_image_url='https://picdn.gomaji.com/products/o/529/308529/308529_1_6.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E9%BA%B5%E5%BF%83%E9%96%8B%E5%BC%B5/@22.9955735,120.2138518,17z/data=!3m1!4b1!4m5!3m4!1s0x346e768d8503d999:0x9527d0c20b234c05!8m2!3d22.9955735!4d120.2160405?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://line.me/R/ti/p/@904gqwwn'\n","                    )\n","                    ]\n","                )\n","              ))\n","          elif  restaurant(a,b,c,d) == 9:\n","              line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下兩家餐廳：'))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='麥當勞-台南東區大學店',\n","                text='老字號的經典連鎖速食店，以漢堡和薯條聞名。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://www.chickpt.com.tw/compassion_img?img=%2Fphotos%2F20221011%2F331098%2F1665487475.0181952574208.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E9%BA%A5%E7%95%B6%E5%8B%9E-%E5%8F%B0%E5%8D%97%E6%9D%B1%E5%8D%80%E5%A4%A7%E5%AD%B8%E5%BA%97/@22.995859,120.2192242,17z/data=!3m1!4b1!4m13!1m7!3m6!1s0x346e76936e9b3923:0x8d9e313cba2f84e6!2z6bql55W25YueLeWPsOWNl-adseWNgOWkp-WtuOW6lw!8m2!3d22.995859!4d120.2214129!10e1!3m4!1s0x346e76936e9b3923:0x8d9e313cba2f84e6!8m2!3d22.995859!4d120.2214129?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.mcdonalds.com/tw/zh-tw.html'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='三商巧福 長榮門市',\n","                text='亞洲 Fusion 菜餐廳',\n","                #封面圖片網址\n","                thumbnail_image_url='https://birthdays.tw/wp-content/uploads/2022/04/52441741_2208840675825729_3915587242696900608_n-111-768x768.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E4%B8%89%E5%95%86%E5%B7%A7%E7%A6%8F+%E9%95%B7%E6%A6%AE%E9%96%80%E5%B8%82/@22.9957535,120.219573,17z/data=!3m1!4b1!4m5!3m4!1s0x346e76936f7e3c8d:0x99ef4149c82a8361!8m2!3d22.9957563!4d120.221723?hl=zh-TW'\n","                    )\n","                    ]\n","                )\n","              ))\n","          elif  restaurant(a,b,c,d) == 16:\n","              line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下餐廳：'))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='元之氣早餐勝利店',\n","                text='生活必須是一件愉快的事情，這一切應該從你的元氣早餐開始!',\n","                #封面圖片網址\n","                thumbnail_image_url='https://alltwcompany.com/comapny-image-%E5%85%83%E4%B9%8B%E6%B0%A3%E6%97%A9%E9%A4%90%E5%8B%9D%E5%88%A9%E5%BA%97.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E5%85%83%E4%B9%8B%E6%B0%A3%E6%97%A9%E9%A4%90%E5%8B%9D%E5%88%A9%E5%BA%97/@22.9915167,120.2157721,17z/data=!3m1!4b1!4m5!3m4!1s0x346e7691c0c126e5:0x64795a482307c507!8m2!3d22.9915167!4d120.2179608?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='http://www.yuangi.com.tw/index.php'\n","                    )\n","                    ]\n","                )\n","              ))\n","          elif  restaurant(a,b,c,d) == 17:\n","              line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下餐廳：'))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='Jamys潛艇堡專賣店',\n","                text='潛艇堡、沙拉、烤馬鈴薯專賣店',\n","                #封面圖片網址\n","                thumbnail_image_url='https://live.staticflickr.com/65535/48493078892_0c7891a626_c.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/Jamys%E6%BD%9B%E8%89%87%E5%A0%A1%E5%B0%88%E8%B3%A3%E5%BA%97/@22.9962278,120.2157023,17z/data=!3m1!4b1!4m5!3m4!1s0x346e76928c2a0479:0x5d180752f8cc9285!8m2!3d22.9962278!4d120.217891?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/profile.php?id=100063680030806'\n","                    )\n","                    ]\n","                )\n","              ))\n","          elif  restaurant(a,b,c,d) == 20:\n","              line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下兩家餐廳：'))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='成大光復餐廳',\n","                text='透過本校「膳食委員會」之監督機制，為餐廳之營運與餐飲衛生把關。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://news-secr.ncku.edu.tw/var/file/37/1037/pictures/454/m/mczh-tw350x350_small184338_598525567985.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E6%88%90%E5%A4%A7%E5%85%89%E5%BE%A9%E9%A4%90%E5%BB%B3/@22.9992689,120.212799,17z/data=!3m1!4b1!4m5!3m4!1s0x346e7702d2b9a9a5:0xa0a995098809ec2c!8m2!3d22.9992689!4d120.2149877?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://sites.google.com/view/ncku-cafeteria'\n","                    )\n","                    ]\n","                )\n","              ))\n","              line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='敬業餐廳 Ching-Yeh Restaurant',\n","                text='透過本校「膳食委員會」之監督機制，為餐廳之營運與餐飲衛生把關。',\n","                #封面圖片網址\n","                thumbnail_image_url='http://images.1111.com.tw/discussPic/16/51136916_95513604.3815074.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E6%95%AC%E6%A5%AD%E9%A4%90%E5%BB%B3+Ching-Yeh+Restaurant/@22.9992686,120.2062329,15z/data=!4m10!1m2!2m1!1z5pWs5qWt6aSQ5buz!3m6!1s0x346e7776e27e95cd:0x984ac7e40a7c1319!8m2!3d23.0010518!4d120.2231107!15sCgzmlazmpa3ppJDlu7NaDyIN5pWs5qWtIOmkkOW7s5IBCnJlc3RhdXJhbnTgAQA!16s%2Fg%2F11fct49f_l?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='http://stud.adm.ncku.edu.tw/hea/4work/wenvirom/%E6%95%AC%E6%A5%AD%E9%A4%90%E5%BB%B3%E7%85%A7%E7%89%87/n3.htm'\n","                    )\n","                    ]\n","                )\n","              ))\n","          else:\n","            line_bot_api.push_message(userId, TextSendMessage(text='推薦您以下三家餐廳：'))\n","            line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='拾分早午餐',\n","                text='裝潢簡樸的休閒餐廳，供應三明治、烘焙美食和特色早午餐。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://ikachalife.com/wp-content/uploads/2015/09/1461266832-7c121f5e20d9694c4536e6d25312cc68.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E6%8B%BE%E5%88%86/@22.9960633,120.2154446,16.74z/data=!3m1!5s0x346e76928f0ac04b:0xae4c89f4e04ab22a!4m5!3m4!1s0x346e76928f440def:0x634a394c6cc6c07e!8m2!3d22.9962059!4d120.217438?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/tenbreaktime'\n","                    )\n","                    ]\n","                )\n","              ))\n","            line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='無邪燒肉',\n","                text='舒適的當代風餐廳，顧客可在吧台與桌面上的烤爐自行燒烤肉類。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://inline.imgix.net/branch/-MduqXiNfbNj7A97sYLQ:inline-live-2--MduqXx78veSpF89CNHK-8a75772d-bc71-46c5-b3d1-818564ad9bd6_wusie-logo-2.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E7%84%A1%E9%82%AA%E7%87%92%E8%82%89/@22.9962682,120.215225,17z/data=!3m1!4b1!4m13!1m7!3m6!1s0x346e777e62bdcd73:0x5f85b9a6101ee444!2z54Sh6YKq54eS6IKJ!8m2!3d22.9962996!4d120.2174184!10e1!3m4!1s0x346e777e62bdcd73:0x5f85b9a6101ee444!8m2!3d22.9962996!4d120.2174184?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://inline.app/order/-MduqXiNfbNj7A97sYLQ:inline-live-2/-MduqXx78veSpF89CNHK'\n","                    )\n","                    ]\n","                )\n","              ))\n","            line_bot_api.push_message(userId, TemplateSendMessage(\n","                alt_text='ButtonsTemplate',\n","                template=ButtonsTemplate(\n","                title='元味屋',\n","                text='素雅的餐廳，供應經典炸雞、豬排與鮮魚料理。',\n","                #封面圖片網址\n","                thumbnail_image_url='https://image.peoplemedia.tw/news/afeed491-4090-42b4-8564-cea7fdd99be7.jpg',\n","                actions=[#選項設定\n","                    URITemplateAction(\n","                        label='點我在google map上看店家!',\n","                        uri='https://www.google.com.tw/maps/place/%E5%85%83%E5%91%B3%E5%B1%8B%E5%92%8C%E9%A2%A8%E6%B4%8B%E9%A3%9F/@22.9953063,120.2125497,17z/data=!4m6!3m5!1s0x346e768db909a2c9:0x258b2672fc2a431e!8m2!3d22.9953063!4d120.2147384!10e1?hl=zh-TW'\n","                    ),URITemplateAction(\n","                        label='點我看店家網站!',\n","                        uri='https://www.facebook.com/profile.php?id=100054496087745'\n","                    )\n","                    ]\n","                )\n","              ))\n","        else:\n","            text = '請按照敘述輸入回答！'\n","            line_bot_api.reply_message(tk,TextSendMessage(text))\n","        \n","    except:\n","        print('error,',body)            # 如果發生錯誤，印出收到的內容\n","    return 'OK'  \n","\n","if __name__ == \"__main__\":\n","  run_with_ngrok(app)           # 串連 ngrok 服務\n","  app.run()"]}],"metadata":{"colab":{"provenance":[{"file_id":"1B5poV0g6eRadl8afji4IBm4N2n3C7gTj","timestamp":1678465095765},{"file_id":"1WlN4i5-J6TwPWYy7Cqq87A_eEqabQ55Z","timestamp":1670482507982}]},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}